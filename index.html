<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Harga Jual E-Commerce</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0ea5e9">
    <meta name="description" content="Kalkulator harga jual optimal untuk e-commerce TikTok Shop dan Shopee dengan breakdown biaya lengkap">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Kalkulator E-Commerce">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16x16.png">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="css/tailwind.min.css">
    <style>
        :root {
            --primary-50: #f0f9ff;
            --primary-100: #e0f2fe;
            --primary-500: #0ea5e9;
            --primary-600: #0284c7;
            --primary-700: #0369a1;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
        }
        
        .text-primary-50 { color: var(--primary-50); }
        .text-primary-100 { color: var(--primary-100); }
        .text-primary-500 { color: var(--primary-500); }
        .text-primary-600 { color: var(--primary-600); }
        .text-primary-700 { color: var(--primary-700); }
        .bg-primary-50 { background-color: var(--primary-50); }
        .bg-primary-600 { background-color: var(--primary-600); }
        .bg-primary-700 { background-color: var(--primary-700); }
        .border-primary-200 { border-color: #bae6fd; }
        .border-primary-300 { border-color: #7dd3fc; }
        .focus\:ring-primary-500:focus { --tw-ring-color: var(--primary-500); }
        .focus\:border-primary-500:focus { border-color: var(--primary-500); }
        .hover\:bg-primary-700:hover { background-color: var(--primary-700); }
        .hover\:text-primary-800:hover { color: #0c4a6e; }
        .text-gray-50 { color: var(--gray-50); }
        .text-gray-100 { color: var(--gray-100); }
        .text-gray-200 { color: var(--gray-200); }
        .text-gray-300 { color: var(--gray-300); }
        .text-gray-400 { color: var(--gray-400); }
        .text-gray-500 { color: var(--gray-500); }
        .text-gray-600 { color: var(--gray-600); }
        .text-gray-700 { color: var(--gray-700); }
        .text-gray-800 { color: var(--gray-800); }
        .text-gray-900 { color: var(--gray-900); }
        .bg-gray-50 { background-color: var(--gray-50); }
        .bg-gray-100 { background-color: var(--gray-100); }
        .border-gray-200 { border-color: var(--gray-200); }
        .border-gray-300 { border-color: var(--gray-300); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Kalkulator Harga Jual E-Commerce</h1>
            <p class="text-gray-600">Hitung harga jual optimal dengan fee platform dan keuntungan yang diinginkan</p>
        </div>

        <!-- Main Calculator Card -->
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
            <!-- Platform Selection -->
            <div class="border-b border-gray-200 p-6">
                <h2 class="text-lg font-semibold text-gray-900 mb-4">Platform E-Commerce</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="relative">
                                                 <select id="platform" onchange="updatePlatformFees()" 
                                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white text-gray-900"
                                 aria-label="Pilih platform e-commerce">
                            <option value="tiktok">TikTok Shop</option>
                            <option value="shopee">Shopee</option>
                        </select>
                    </div>
                                         <div id="platformFees" class="bg-gray-50 rounded-lg p-4">
                         <h3 id="platformTitle" class="text-sm font-medium text-gray-900 mb-2">Fee TikTok Shop</h3>
                         <div id="feeDetails" class="text-sm text-gray-600">
                             <div class="flex justify-between items-center mb-2">
                                 <span>Dynamic Fee:</span>
                                 <div class="flex items-center space-x-2">
                                     <input type="number" id="tiktokDynamicFee" value="5.5" min="0" step="0.1" 
                                            class="w-16 px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 bg-white">
                                     <span class="text-xs text-gray-500">%</span>
                                 </div>
                             </div>
                             <div class="flex justify-between items-center mb-2">
                                 <span>TikTok Fee:</span>
                                 <div class="flex items-center space-x-2">
                                     <input type="number" id="tiktokPlatformFee" value="8.0" min="0" step="0.1" 
                                            class="w-16 px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 bg-white">
                                     <span class="text-xs text-gray-500">%</span>
                                 </div>
                             </div>
                             <div class="flex justify-between items-center mb-2">
                                 <span>Biaya Proses:</span>
                                 <div class="flex items-center space-x-2">
                                     <input type="number" id="tiktokProcessFee" value="1250" min="0" step="100" 
                                            class="w-20 px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 bg-white">
                                     <span class="text-xs text-gray-500">Rp</span>
                                 </div>
                             </div>
                             <div class="flex justify-between pt-2 border-t border-gray-200">
                                 <span class="font-medium">Total Fee:</span>
                                 <span id="tiktokTotalFee" class="font-bold text-primary-600">≈ 13,5% + Rp 1.250</span>
                             </div>
                         </div>
                         
                         <!-- TikTok Additional Fees -->
                         <div id="tiktokAdditionalFees" class="mt-4 pt-4 border-t border-gray-200 hidden">
                             <h4 class="text-xs font-medium text-gray-700 mb-2">Biaya Tambahan (Opsional)</h4>
                             <div class="space-y-2">
                                 <div class="flex items-center space-x-2">
                                     <input type="checkbox" id="komisiKategori" class="w-3 h-3 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                     <label for="komisiKategori" class="text-xs text-gray-600">Komisi Kategori (4%)</label>
                                 </div>
                                 <div class="flex items-center space-x-2">
                                     <input type="checkbox" id="programVoucher" class="w-3 h-3 text-primary-600 border-gray-300 rounded focus:ring-primary-500">
                                     <label for="programVoucher" class="text-xs text-gray-600">Program Voucher Extra (4%)</label>
                                 </div>
                             </div>
                         </div>
                         
                         <!-- Platform Additional Fee Input -->
                         <div id="platformAdditionalFee" class="mt-4 pt-4 border-t border-gray-200">
                             <h4 class="text-xs font-medium text-gray-700 mb-2">Biaya Tambahan Platform (%)</h4>
                             <input type="number" id="platformAdditionalFeeInput" placeholder="Contoh: 2" min="0" step="0.1" value="0"
                                    class="w-full px-3 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                         </div>
                     </div>
                </div>
            </div>

            <!-- Input Form -->
            <div class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Left Column - Inputs -->
                    <div class="space-y-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Data Produk</h2>
                        
                        <div>
                            <label for="modalPrice" class="block text-sm font-medium text-gray-700 mb-2">
                                Harga Modal (Rp)
                            </label>
                            <input type="number" id="modalPrice" placeholder="Contoh: 50000" min="0"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                        </div>

                        <div>
                            <label for="affiliateFee" class="block text-sm font-medium text-gray-700 mb-2">
                                Biaya Affiliate (%)
                            </label>
                            <input type="number" id="affiliateFee" placeholder="Contoh: 10" min="0" step="0.1" value="10"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                        </div>

                        <div>
                            <label for="additionalCost" class="block text-sm font-medium text-gray-700 mb-2">
                                Biaya Tambahan (%)
                            </label>
                            <input type="number" id="additionalCost" placeholder="Contoh: 5" min="0" step="0.1" value="10"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                        </div>

                        <div>
                            <label for="profit" class="block text-sm font-medium text-gray-700 mb-2">
                                Keuntungan (%)
                            </label>
                            <input type="number" id="profit" placeholder="Contoh: 20" min="0" step="0.1" value="20"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                        </div>

                        <div>
                             <label for="fakePrice" class="block text-sm font-medium text-gray-700 mb-2">
                                 Diskon untuk Posting TikTok (%)
                             </label>
                             <input type="number" id="fakePrice" placeholder="Contoh: 80" min="0" max="100" step="0.1" value="80"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white">
                             <p class="text-xs text-gray-500 mt-1">Persentase diskon dari harga coret untuk mendapatkan harga jual optimal</p>
                         </div>
                    </div>

                    <!-- Right Column - Method Selection -->
                    <div class="space-y-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Metode Perhitungan</h2>
                        
                        <div class="bg-gray-50 rounded-lg p-6">
                            <div class="space-y-4">
                                <div class="flex items-center space-x-3">
                                    <input type="radio" id="markup" name="method" value="markup" checked
                                           class="w-4 h-4 text-primary-600 border-gray-300 focus:ring-primary-500">
                                    <label for="markup" class="text-sm font-medium text-gray-900">Markup</label>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <input type="radio" id="margin" name="method" value="margin"
                                           class="w-4 h-4 text-primary-600 border-gray-300 focus:ring-primary-500">
                                    <label for="margin" class="text-sm font-medium text-gray-900">Margin</label>
                                </div>
                            </div>
                            
                            <div class="mt-4 p-4 bg-white rounded-lg border border-gray-200">
                                <p class="text-xs text-gray-600 mb-2">
                                    <span class="font-medium">Markup:</span> Keuntungan dihitung dari harga modal
                                </p>
                                <p class="text-xs text-gray-600">
                                    <span class="font-medium">Margin:</span> Keuntungan dihitung dari harga jual
                                </p>
                            </div>
                            
                            <!-- Detail Rumus Perhitungan -->
                            <div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
                                <h4 class="text-xs font-medium text-blue-900 mb-3">Detail Rumus Perhitungan</h4>
                                <div id="formulaDetails" class="text-xs text-blue-800 space-y-2">
                                    <div>
                                        <span class="font-medium">Total Modal:</span> Harga Modal + (Harga Modal × Biaya Tambahan %)
                                    </div>
                                    <div>
                                        <span class="font-medium">Markup:</span> Harga Jual = (Total Modal + Keuntungan + Biaya Proses) ÷ (1 - Total Fee %)
                                    </div>
                                    <div>
                                        <span class="font-medium">Margin:</span> Harga Jual = (Total Modal + Biaya Proses) ÷ (1 - Total Fee % - Keuntungan %)
                                    </div>
                                    <div>
                                        <span class="font-medium">Keuntungan Bersih:</span> Yang Diterima - Total Modal
                                    </div>
                                </div>
                                
                                <div class="mt-3 pt-3 border-t border-blue-200">
                                    <h5 class="text-xs font-medium text-blue-900 mb-2">Penjelasan Detail:</h5>
                                    <div class="text-xs text-blue-800 space-y-1">
                                        <div><span class="font-medium">• Biaya Tambahan:</span> Biaya operasional, packaging, dll yang ditambahkan ke modal</div>
                                        <div><span class="font-medium">• Markup:</span> Keuntungan dihitung dari total modal (modal + biaya tambahan)</div>
                                        <div><span class="font-medium">• Margin:</span> Keuntungan dihitung dari harga jual akhir</div>
                                        <div><span class="font-medium">• Total Fee:</span> Semua biaya platform (Dynamic Fee + TikTok Fee + Affiliate + dll)</div>
                                        <div><span class="font-medium">• Biaya Proses:</span> Biaya tetap per transaksi (Rp 1.250)</div>
                                        <div><span class="font-medium">• Yang Diterima:</span> Harga jual dikurangi semua fee platform</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calculate Button -->
                <div class="mt-8">
                    <button onclick="calculatePrice()" 
                            class="w-full bg-primary-600 hover:bg-primary-700 text-white font-semibold py-4 px-6 rounded-lg transition duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                        Hitung Harga Jual
                    </button>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6 hidden">
            <h2 class="text-lg font-semibold text-gray-900 mb-6 text-center">Hasil Perhitungan</h2>
            <div id="breakdown" class="space-y-4"></div>
        </div>
    </div>

    <script src="hitung.js"></script>
 </body>
 </html>

